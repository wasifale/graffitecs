Element.prototype.backgroundClipPolyfill=function(){function t(t,e){for(var i in e)t.setAttribute(i,e[i])}function e(t){return h.createElementNS("http://www.w3.org/2000/svg",t)}function i(){var i=arguments[0],n=e("svg"),h=e("pattern"),s=e("image"),d=e("text");return t(n,{width:window.svgHeadline[i.number].parentWidth,height:window.svgHeadline[i.number].parentHeight}),t(h,{id:i.id,patternUnits:"userSpaceOnUse",width:window.svgHeadline[i.number].parentWidth,height:window.svgHeadline[i.number].parentHeight}),t(s,{width:"100%",height:"100%",preserveAspectRatio:"xMinYMin slice"}),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i.url),t(d,{width:window.svgHeadline[i.number].width,height:window.svgHeadline[i.number].height,x:window.svgHeadline[i.number].left+3,y:window.svgHeadline[i.number].top,class:i.class,style:window.svgHeadline[i.number].style+"fill:url(#"+i.id+");"}),d.textContent=i.text,n.appendChild(d),h.appendChild(s),n.appendChild(h),n}var n=arguments[0],h=document,s=(h.body,this),d=new Image;d.onload=function(){var t=i({number:n.number,id:n.patternID,url:n.patternURL,class:n.class,width:this.width,height:this.height,text:s.textContent});s.parentNode.replaceChild(t,s)},d.src=n.patternURL};var rebuildWithSvg=function(){window.svgHeadline={},$.each($(".canvas-headline"),function(t){var e=($(this).parent().width(),$(this).width(),"");e+="font: "+$(this).css("font-style")+" "+$(this).css("font-weight")+" "+$(this).css("font-size")+" "+$(this).css("font-family")+"; ",$(this).closest(".canvas-title-block").length?window.svgHeadline[t]={parentWidth:$(this).outerWidth(),parentHeight:$(this).outerHeight(),width:$(this).find(".text").width(),height:$(this).find(".text").height(),top:parseInt($(this).css("padding-top").replace("px",""))+.8*$(this).find(".text").height(),left:$(this).find(".text").offset().left-$(this).offset().left,style:e}:window.svgHeadline[t]={parentWidth:$(this).width(),parentHeight:$(this).height(),width:$(this).find(".text").width(),height:$(this).find(".text").height(),top:.87*$(this).height(),left:$(this).find(".text").offset().left-$(this).offset().left,style:e},this.backgroundClipPolyfill({number:t,patternID:"mypattern_"+t,patternURL:$(this).attr("data-img"),class:"canvas-headline"})})};$(document).on("ready",function(){$(".canvas-title-block").length&&$.each($(".canvas-title-block"),function(){var t=$(this).closest(".wpb_column");t.outerWidth()===$(window).width()&&t.css({"padding-left":0,"padding-right":0})}),void 0===document.body.style.webkitBackgroundClip&&setTimeout(function(){rebuildWithSvg()},400)});
//# sourceMappingURL=startuply-svgtext.js.map
