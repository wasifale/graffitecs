var StartuplyVideoBackground;!function(t){t(document).on("ready",function(){window.StartuplyThemeOptions?StartuplyVideoBackground.init(StartuplyThemeOptions):StartuplyVideoBackground.init()}),StartuplyVideoBackground={defaults:{log:!1,mobileMenuMaxWidth:768},mobileDevice:!1,log:function(t){this.options.log&&console.log("%Startuply Log: "+t,"color: #fe4918")},checkMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||t(window).width()<this.options.mobileMenuMaxWidth?(this.mobileDevice=!0,this.log("Mobile device")):(this.mobileDevice=!1,this.log("Desktop")),this.mobileDevice},videoBackgroundInit:function(){var i=this,e=window.innerHeight-t(".menu-wrapper").outerHeight();t(".ytpb-row").each(function(){var o,a,n,l=t(this),s=parseInt(l.css("padding-top")),d=parseInt(l.css("padding-bottom")),c=l.data("videoUrl");if(!c||!this.id)return console.log("no video url!"),!1;if(l.css("min-height",l.outerHeight()),l.children().not(".row-overlay").first().css({"padding-top":s,"padding-bottom":d}),l.style("padding-top","0","important"),l.style("padding-bottom","0","important"),/(?:youtu\.be\/|youtube\.com\/(?:watch\?(?:.*&)?v=|(?:embed|v)\/))([^\?&"'>]+)/.test(c),o=RegExp.$1,o&&l.css({"background-image":'url("http://img.youtube.com/vi/'+o+'/maxresdefault.jpg")',"background-size":"cover","-webkit-background-size":"cover"}),i.checkMobile())l.css("min-height",e).addClass("no-video-bg");else if(a=l.YTPlayer(),"none"!=l.attr("data-controls")){n='<div class="video-controls"><i class="yt-play-btn-big"'+("true"==l.attr("data-autoplay")?' style="display: none"':"")+'></i><div class="bottom"><div class="controls-container '+l.attr("data-controls")+'"><i class="yt-play-toggle'+("false"==l.attr("data-autoplay")?" active":"")+'"></i><i class="yt-mute-toggle '+("true"==l.attr("data-mute")?" active":"")+'"></i><div class="yt-volume-slider"></div></div></div><div>',l.append(n);var r=l.find(".yt-play-btn-big"),u=l.find(".yt-play-toggle"),g=l.find(".yt-mute-toggle"),v=l.find(".yt-volume-slider");v.slider({range:"min",min:0,max:100,step:5,value:50,slide:function(t,i){a.YTPSetVolume(i.value)}}),r.on("click",function(){a.YTPPlay()}),u.click(function(){1===a.YTPGetPlayer().getPlayerState()?a.YTPPause():a.YTPPlay()}),a.on("YTPPlay",function(t){r.fadeOut(200),u.removeClass("active")}),a.on("YTPPause",function(t){r.fadeIn(200),u.addClass("active")}),g.on("click",function(){t(this).is(".active")?g.removeClass("active"):g.addClass("active"),a.YTPToggleVolume()})}}),this.log("Init row video background")},init:function(i){this.options=t.extend(this.defaults,i,t("body").data()),this.log("Init"),this.checkMobile(),this.videoBackgroundInit()}}}(jQuery);
//# sourceMappingURL=startuply-videobackground.js.map
